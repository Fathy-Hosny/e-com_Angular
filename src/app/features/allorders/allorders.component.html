<section class="container mx-auto mt-20 p-4 md:p-8 bg-gray-50 min-h-screen">
  <i class="fas fa-box-open mr-2 text-3xl md:text-4xl text-emerald-600"></i>
  <h2
    class="text-3xl text-shad-order md:text-4xl font-extrabold text-gray-900 mb-6 border-b-4 border-emerald-500 pb-2 inline-block"
  >
    All Orders
  </h2>

  @if (ordersList.length === 0) {
  <div
    class="flex flex-col items-center justify-center p-8 text-center text-gray-500 bg-white rounded-xl shadow-all"
  >
    <i class="fas fa-search text-5xl mb-4 text-gray-400"></i>
    <p class="text-lg font-medium">No orders found.</p>
  </div>
  } @for (order of ordersList; track order._id) {
  <div
    class="mb-6 p-6 border border-gray-200 rounded-2xl shadow-lg bg-white transition-all duration-300 hover:shadow-xl hover:border-emerald-300"
  >
    <div
      class="flex flex-col md:flex-row md:justify-between md:items-center mb-4 pb-4 border-b border-dashed border-gray-300"
    >
      <h3
        class="font-bold text-xl text-gray-800 flex items-center mb-2 md:mb-0"
      >
        <i class="fas fa-receipt mr-3 text-emerald-500"></i>
        Order #
        <span
          class="text-emerald-600 cursor-pointer font-mono"
          (click)="showFullId = !showFullId"
        >
          {{ showFullId ? order._id : (order._id | slice : 0 : 8) + "..." }}
        </span>
      </h3>

      <span class="text-sm text-gray-500 font-medium">
        <i class="fas fa-clock mr-1"></i>
        Created At: {{ order.createdAt | date : "short" }}
      </span>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
      <div class="bg-gray-100 p-3 rounded-lg flex items-center">
        <i class="fa-solid fa-sterling-sign text-emerald-600 mr-3 text-lg"></i>
        <div>
          <p class="text-sm text-gray-500">Total Price:</p>
          <p class="font-semibold text-lg text-gray-900">
            {{ order.totalOrderPrice | currency : "GBP" }} EGP
          </p>
        </div>
      </div>
      <div class="bg-gray-100 p-3 rounded-lg flex items-center">
        @if (order.paymentMethodType=="card") {
        <i class="fas fa-credit-card text-emerald-600 mr-3 text-lg"></i>
        } @else if (order.paymentMethodType=="cash") {

        <i class="fa-solid fa-wallet text-emerald-600 mr-3 text-lg"></i>
        }
        <div>
          <p class="text-sm text-gray-500">Payment Method:</p>
          <p class="font-semibold text-gray-900">
            {{ order.paymentMethodType }}
          </p>
        </div>
      </div>
      <div class="bg-gray-100 p-3 rounded-lg flex items-center">
        <i
          class="fa-solid text-emerald-600 fa-money-check-dollar mr-3 text-lg"
        ></i>
        <div>
          <p class="text-sm text-gray-500">Payment Status:</p>
          <p class="font-semibold">
            {{ order.isPaid ? "Paid" : "Unpaid" }}
          </p>
        </div>
      </div>
      <div class="bg-gray-100 p-3 rounded-lg flex items-center">
        <i class="fas fa-truck text-emerald-600 mr-3 text-lg"></i>
        <div>
          <p class="text-sm text-gray-500">Delivery Status:</p>
          <p class="font-semibold">
            {{ order.isDelivered ? "Delivered" : "Pending" }}
          </p>
        </div>
      </div>
    </div>

    <h4 class="mt-4 font-bold text-gray-800 text-lg flex items-center">
      <i class="fas fa-shopping-basket mr-2 text-emerald-500"></i> Order Items:
    </h4>
    <ul class="list-none space-y-2 mt-2">
      @for (item of order.cartItems; track item._id) {
      <li
        class="flex items-center p-3 bg-gray-50 rounded-lg border border-gray-200"
      >
        <img
          [src]="item.product.imageCover"
          [alt]="item.product.title"
          class="w-16 h-16 object-cover rounded-md border border-gray-300 mr-4"
        />
        <div class="flex-grow">
          <p class="text-gray-800 font-medium">{{ item.product.title }}</p>
          <span class="text-sm text-gray-500"
            >Count:
            <span class="font-semibold text-emerald-600">{{
              item.count
            }}</span></span
          >
        </div>
        <div class="text-right">
          <span class="text-gray-900 font-bold"
            >{{ item.price * item.count | currency : "GBP" }} EGP</span
          >
        </div>
      </li>
      }
    </ul>
  </div>
  }
</section>
